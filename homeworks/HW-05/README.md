# HW-05

В пятом домашнем задании необходимо добавить поддержку хранения данных. 
То есть необходимо добавить [DAL](https://habr.com/ru/companies/custis/articles/265785/). 

## Контекст:

Вот уже прошло несколько бессонных ночей пока вы писали систему аутентификации.
Вы еще не успели отправить результаты своей работы, как вам на почту пришло новое письмо с требованиями.
Напряжение между вами и Марком с каждым разом нарастает сильнее и сильнее. Вас мучает вопрос: _Почему нельзя сразу прислать все требования?_

В письме написано множество неприятных слов о вашей работе. 
Марк недавно выяснил, что после перезапуска приложения все данные пропадают. Он требует от вас добавить поддержку баз данных.
Необходимо описать схему данных. 

## Функциональные требования:

Вам необходимо добавить поддержку хранения данных в некоторой базе данных.

* Необходимо сохранять пользовательские публикации в базе данных
* Необходимо сохранять пользователей в базе данных
* Необходимо использовать реляционную базу данных
* Соответственно нужно уметь получать и обновлять данные

## Нефункциональные требования:

* Необходимо ориентироваться на базу данных [PostgreSQL](https://www.postgresql.org/)
* Для слоя доступа данных необходимо использовать [Exposed](https://github.com/JetBrains/Exposed)
* На старте приложения необходимо подключаться к базе данных и создавать схему(если необходимо)
* Для быстрого запуска нужно создать [Dockerfile](https://docs.docker.com/engine/reference/builder/) с [Postgres](https://hub.docker.com/_/postgres) образом и положить его в проект
* Описание схемы данных на уровне приложения необходимо вынести в отдельную папку
* Также необходимо добавить обработку ошибок от базы данных. Пример: отсутствует соединение, дублирование _PK_

## Что нужно сделать?   

1. Нужно открыть ваш проект из прошлых ДЗ
2. Сделать отдельную ветку с названием `HW-5`
3. В отдельной ветке реализовать весь необходимый функционал
4. Сделать **_Pull Request_** в main ветку
5. Назначить меня в reviewers и скинуть ссылку в личные сообщения
6. Ждать

## Как сдавать домашнее задание?

* Загрузить код в ваш проект
* Сделать отдельный Pull Request

## Как будет оцениваться ДЗ?

* Необходимо придерживаться принципам [SOLID](https://habr.com/ru/companies/ruvds/articles/426413/) и использовать [слоистую архитектуру](https://alexkosarev.name/2018/07/27/n-tier-java-part1/)
* Необходимо вынести функционал взаимодействия с базой данных в отдельный слой **DAL**
* За красивый и аккуратный код можно получить `10`

## Дедлайн

* Две недели с момента выдачи домашнего задание
* Лучше всего выполнить его немного заранее, чтобы я смог провести code-review и оставить комментарии
* Далее будут применяться понижающие коэффициенты

## Дополнительно:

* На дополнительную оценку можно подумать про конфигурацию сессии и `connectionPool`
* Dockerfile и пример подключения можно взять из [третьей практики](./../../practice/%5B03%5DKotlin-Exposed-Practice)